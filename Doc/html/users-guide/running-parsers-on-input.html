<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
 <title>Running parsers on input</title>
 <link rel="stylesheet" type="text/css" media="all" href="../css/style.css" />
 <link rel="stylesheet" type="text/css" media="screen" href="../css/screen-sidebar.css" />
 <!--[if lt IE 9]>
 <link rel="stylesheet" type="text/css" media="all" href="../css/style-ie.css" />
 <![endif]-->
 <!--[if IE 6]>
 <link rel="stylesheet" type="text/css" media="all" href="../css/style-ie6.css" />
 <![endif]-->
 <link rel="stylesheet" type="text/css" media="print" href="../css/print.css" />
</head>
<body>
 <div id="fixed-layer">
 <div id="fixed-wrapper">
 <div id="sidebar">
  <div id="top-links"><span><a href="http://bitbucket.org/fparsec/main">FParsec @ BitBucket</a> | <a href="https://bitbucket.org/fparsec/main/issues">Report a bug</a> | <a href="mailto:fparsec [at] quanttec.com?subject=FParsec&amp;body=Hello Stephan,%0A%0A[your feedback]">Feedback</a></span></div>
  <div id="nav-tree">
   <table class="nav n1">
    <tbody class="nav-open n1">
     <tr class="nav-entry n1 _1">
      <td class="nav-number n1"></td>
      <td class="nav-title n1"><a href="../index.html">FParsec Documentation</a></td>
     </tr>
     <tr class="nav-subentries n1 _1">
      <td class="nav-subentries-number n1"></td>
      <td class="nav-subentries n1">
       <table class="nav n2">
        <tbody class="nav-before-open n2">
         <tr class="nav-entry n2 _1">
          <td class="nav-number n2"><a href="../about/index.html"><span class="section-number">1</span><span class="nav-space"></span></a></td>
          <td class="nav-title n2"><a href="../about/index.html">About FParsec</a></td>
         </tr>
         <tr class="nav-entry n2 _2">
          <td class="nav-number n2"><a href="../license.html"><span class="section-number">2</span><span class="nav-space"></span></a></td>
          <td class="nav-title n2"><a href="../license.html">License</a></td>
         </tr>
         <tr class="nav-entry n2 _3">
          <td class="nav-number n2">
           <a href="../download-and-installation.html"><span class="section-number">3</span><span class="nav-space"></span></a>
          </td>
          <td class="nav-title n2"><a href="../download-and-installation.html">Download and installation</a></td>
         </tr>
         <tr class="nav-entry n2 _4">
          <td class="nav-number n2"><a href="../tutorial.html"><span class="section-number">4</span><span class="nav-space"></span></a></td>
          <td class="nav-title n2"><a href="../tutorial.html">Tutorial</a></td>
         </tr>
        </tbody>
        <tbody class="nav-open n2">
         <tr class="nav-entry n2 _5">
          <td class="nav-number n2"><a href="index.html"><span class="section-number">5</span><span class="nav-space"></span></a></td>
          <td class="nav-title n2"><a href="index.html">User’s Guide</a></td>
         </tr>
         <tr class="nav-subentries n2 _5">
          <td class="nav-subentries-number n2"></td>
          <td class="nav-subentries n2">
           <table class="nav n3">
            <tbody class="nav-before-open n3">
             <tr class="nav-entry n3 _1">
              <td class="nav-number n3"><a href="parser-functions.html"><span class="section-number">1</span><span class="nav-space"></span></a></td>
              <td class="nav-title n3"><a href="parser-functions.html">Parser functions</a></td>
             </tr>
            </tbody>
            <tbody class="nav-open selected n3">
             <tr class="nav-entry selected n3 _2">
              <td class="nav-number selected n3"><a href="#"><span class="section-number">2</span><span class="nav-space"></span></a></td>
              <td class="nav-title selected n3"><a href="#">Running parsers on input</a></td>
             </tr>
            </tbody>
            <tbody class="nav-after-open n3">
             <tr class="nav-entry n3 _3">
              <td class="nav-number n3">
               <a href="internals-of-a-simple-parser-function.html"><span class="section-number">3</span><span class="nav-space"></span></a>
              </td>
              <td class="nav-title n3">
               <a href="internals-of-a-simple-parser-function.html">Internals of a simple <code class="fsharp"><span class="ci">Parser</span></code>
               function</a>
              </td>
             </tr>
             <tr class="nav-entry n3 _4">
              <td class="nav-number n3">
               <a href="applying-parsers-in-sequence.html"><span class="section-number">4</span><span class="nav-space"></span></a>
              </td>
              <td class="nav-title n3"><a href="applying-parsers-in-sequence.html">Applying parsers in sequence</a></td>
             </tr>
             <tr class="nav-entry n3 _5">
              <td class="nav-number n3"><a href="parsing-sequences.html"><span class="section-number">5</span><span class="nav-space"></span></a></td>
              <td class="nav-title n3"><a href="parsing-sequences.html">Parsing sequences</a></td>
             </tr>
             <tr class="nav-entry n3 _6">
              <td class="nav-number n3">
               <a href="parsing-alternatives.html"><span class="section-number">6</span><span class="nav-space"></span></a>
              </td>
              <td class="nav-title n3"><a href="parsing-alternatives.html">Parsing alternatives</a></td>
             </tr>
             <tr class="nav-entry n3 _7">
              <td class="nav-number n3">
               <a href="looking-ahead-and-backtracking.html"><span class="section-number">7</span><span class="nav-space"></span></a>
              </td>
              <td class="nav-title n3"><a href="looking-ahead-and-backtracking.html">Looking ahead and backtracking</a></td>
             </tr>
             <tr class="nav-entry n3 _8">
              <td class="nav-number n3">
               <a href="customizing-error-messages.html"><span class="section-number">8</span><span class="nav-space"></span></a>
              </td>
              <td class="nav-title n3"><a href="customizing-error-messages.html">Customizing error messages</a></td>
             </tr>
             <tr class="nav-entry n3 _9">
              <td class="nav-number n3">
               <a href="parsing-with-user-state.html"><span class="section-number">9</span><span class="nav-space"></span></a>
              </td>
              <td class="nav-title n3"><a href="parsing-with-user-state.html">Parsing with user state</a></td>
             </tr>
             <tr class="nav-entry n3 _0">
              <td class="nav-number n3">
               <a href="where-is-the-monad.html"><span class="section-number">10</span><span class="nav-space"></span></a>
              </td>
              <td class="nav-title n3"><a href="where-is-the-monad.html">Where is the monad?</a></td>
             </tr>
             <tr class="nav-entry n3 _1">
              <td class="nav-number n3">
               <a href="debugging-a-parser.html"><span class="section-number">11</span><span class="nav-space"></span></a>
              </td>
              <td class="nav-title n3"><a href="debugging-a-parser.html">Debugging a parser</a></td>
             </tr>
             <tr class="nav-entry n3 _2">
              <td class="nav-number n3">
               <a href="performance-optimizations.html"><span class="section-number">12</span><span class="nav-space"></span></a>
              </td>
              <td class="nav-title n3"><a href="performance-optimizations.html">Performance optimizations</a></td>
             </tr>
             <tr class="nav-entry n3 _3">
              <td class="nav-number n3"><a href="tips-and-tricks.html"><span class="section-number">13</span><span class="nav-space"></span></a></td>
              <td class="nav-title n3"><a href="tips-and-tricks.html">Tips and tricks</a></td>
             </tr>
            </tbody>
           </table>
          </td>
         </tr>
        </tbody>
        <tbody class="nav-after-open n2">
         <tr class="nav-entry n2 _6">
          <td class="nav-number n2"><a href="../reference/index.html"><span class="section-number">6</span><span class="nav-space"></span></a></td>
          <td class="nav-title n2"><a href="../reference/index.html">Reference</a></td>
         </tr>
        </tbody>
       </table>
      </td>
     </tr>
    </tbody>
   </table>
  </div>
  <div id="copyright">
    <span>Copyright © 2015 <a href="../about/contact.html">Stephan Tolksdorf</a></span>
  </div>
 </div>
 </div>
 </div>
 <div id="wrapper">
 <div id="main">
 <div id="main-content">
 <div id="breadcrumbs">
  <span class="breadcrumbs">
   <span id="breadcrumbs-parents"><a href="../index.html">FParsec Documentation</a><span class="breadcrumbs-sep"> > </span><a href="index.html">User’s Guide</a></span><span class="breadcrumbs-sep"> > </span>Running parsers on input
  </span>
 </div>
 <div class="section s2">
  <h1 class="title h2"><span><span class="section-number">5.2</span> Running parsers on input</span></h1>
  <div class="intro i2">
   <div class="para _1">
    <p>
     While it is not difficult to construct a <code class="fsharp"><a href="../reference/charstream.html#CharStream"><span
     class="ci">CharStream</span></a></code> instance yourself, then apply a parser function to the <code class="fsharp"><a
     href="../reference/charstream.html#CharStream"><span class="ci">CharStream</span></a></code>, then interpret the returned <code class="fsharp"><a
     href="../reference/reply.html"><span class="ci">Reply</span></a></code> value and finally dispose the <code class="fsharp"><a
     href="../reference/charstream.html#CharStream"><span class="ci">CharStream</span></a></code> again, it takes less effort to instead use one of
     the several <a href="../reference/charparsers.html#interface.runparser-functions"><code class="fsharp"><span class="ci">runParser</span><span
     class="co">...</span></code> functions</a> from the <code class="fsharp"><a href="../reference/charparsers.html"><span
     class="ci">CharParsers</span></a></code> module.
    </p>
   </div>
   <div class="para _2 lcinp">
    <p>
     Among the <code class="fsharp"><span class="ci">runParser</span><span class="co">...</span></code> functions <code class="fsharp"><a
     href="../reference/charparsers.html#members.run"><span class="ci">run</span></a></code> is the most convenient for simple testing purposes:
    </p>
<pre class="code fsharp"><span class="ck">val</span> <a href="../reference/charparsers.html#members.run"><span class="ci">run</span></a><span class="cp">:</span> <a href="../reference/primitives.html#members.Parser"><span class="ci">Parser</span></a><span class="cp">&lt;</span><span class="ctv">'a</span><span class="cp">,</span> <span class="ci">unit</span><span class="cp">&gt;</span> <span class="cr">-&gt;</span> <span class="ci">string</span> <span class="cr">-&gt;</span> <a href="../reference/charparsers.html#members.ParserResult"><span class="ci">ParserResult</span></a><span class="cp">&lt;</span><span class="ctv">'a</span><span class="cp">,</span><span class="ci">unit</span><span class="cp">&gt;</span></pre>
   </div>
   <div class="para _3">
    <p>
     <code class="fsharp"><a href="../reference/charparsers.html#members.run"><span class="ci">run</span></a></code> applies the parser given as the
     first argument to a <code class="fsharp"><a href="../reference/charstream.html#CharStream"><span class="ci">CharStream</span></a></code>
     constructed from the string argument and then captures the return value as <code class="fsharp"><a
     href="../reference/charparsers.html#members.ParserResult"><span class="ci">ParserResult</span></a></code> value. The <code class="fsharp"><a
     href="../reference/charparsers.html#members.ParserResult"><span class="ci">ParserResult</span></a></code> type is a simple discriminated union
     that is a bit more convenient to interpret than the <code class="fsharp"><a href="../reference/reply.html"><span
     class="ci">Reply</span></a></code> values returned by <code class="fsharp"><a href="../reference/primitives.html#members.Parser"><span
     class="ci">Parser</span></a></code> functions.
    </p>
   </div>
   <div class="para _4 lcinp">
    <p>For example:</p>
<pre class="code fsharp"><span class="cmd"><span class="cmdp">&gt;</span> <a href="../reference/charparsers.html#members.run"><span class="ci">run</span></a> <a href="../reference/charparsers.html#members.pint32"><span class="ci">pint32</span></a> <span class="cs"><span class="cld">"</span>0xff<span class="crd">"</span></span><span class="cp">;;</span></span>
<span class="cout">val it : ParserResult&lt;int32,unit&gt; = Success: 255

</span><span class="cmd"><span class="cmdp">&gt;</span> <a href="../reference/charparsers.html#members.run"><span class="ci">run</span></a> <a href="../reference/charparsers.html#members.pint32"><span class="ci">pint32</span></a> <span class="cs"><span class="cld">"</span>0xgf<span class="crd">"</span></span><span class="cp">;;</span></span>
<span class="cout">val it : ParserResult&lt;int32,unit&gt; = Failure:
Error in Ln: 1 Col: 3
0xgf
  ^
Expecting: hexadecimal digit
</span></pre>
   </div>
   <div class="para _5">
    <p>
     The text messages displayed in these examples after the <code class="fsharp"><span class="co">=</span></code> signs are the default string
     representations of the returned <code class="fsharp"><a href="../reference/charparsers.html#members.ParserResult"><span
     class="ci">ParserResult</span></a></code> values, just like they are printed in the <a
     href="http://msdn.microsoft.com/en-us/library/dd233175.aspx">F# Interactive</a> console. The reference documentation describes the two union
     cases <code class="fsharp"><a href="../reference/charparsers.html#members.Success"><span class="ci">Success</span></a></code> and <code
     class="fsharp"><a href="../reference/charparsers.html#members.Failure"><span class="ci">Failure</span></a></code> of the <code class="fsharp"><a
     href="../reference/charparsers.html#members.ParserResult"><span class="ci">ParserResult</span></a></code> type in more detail.
    </p>
   </div>
   <div class="para _6">
    <p>
     <code class="fsharp"><a href="../reference/charparsers.html#members.run"><span class="ci">run</span></a></code> only supports parser functions
     with no user state, i.e. with a <code class="fsharp"><span class="ci">unit</span></code> user state. If you want to test parsers that depend on a
     user state, you will need to use one of the other <code class="fsharp"><span class="ci">runParser</span><span class="co">...</span></code>
     functions, e.g. <code class="fsharp"><a href="../reference/charparsers.html#members.runParserOnString"><span
     class="ci">runParserOnString</span></a></code>. Please see the reference for more details on the <a
     href="../reference/charparsers.html#interface.runparser-functions"><code class="fsharp"><span class="ci">runParser</span><span
     class="co">...</span></code> functions</a>.
    </p>
   </div>
   <div class="para _7">
    <p>
     Note that the <code class="fsharp"><span class="ci">runParser</span><span class="co">...</span></code> functions are primarily meant for the
     &#x201C;end‐users&#x201D; of parsers, i.e. those users that apply an aggregate parser on the content of a complete input stream. This is a
     situation different from the one where you implement a <code class="fsharp"><a href="../reference/primitives.html#members.Parser"><span
     class="ci">Parser</span></a></code> function yourself. In the latter case you typically work directly with the input <code class="fsharp"><a
     href="../reference/charstream.html#CharStream"><span class="ci">CharStream</span></a></code> and output <code class="fsharp"><a
     href="../reference/reply.html"><span class="ci">Reply</span></a></code> values.
    </p>
   </div>
  </div>
 </div>
 </div>
 </div>
 </div>
</body>
</html>

