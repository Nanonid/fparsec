<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
 <title>FParsec.OperatorPrecedenceParser</title>
 <link rel="stylesheet" type="text/css" media="all" href="../css/style.css" />
 <link rel="stylesheet" type="text/css" media="screen" href="../css/screen-sidebar.css" />
 <!--[if lt IE 9]>
 <link rel="stylesheet" type="text/css" media="all" href="../css/style-ie.css" />
 <![endif]-->
 <!--[if IE 6]>
 <link rel="stylesheet" type="text/css" media="all" href="../css/style-ie6.css" />
 <![endif]-->
 <link rel="stylesheet" type="text/css" media="print" href="../css/print.css" />
</head>
<body>
 <div id="fixed-layer">
 <div id="fixed-wrapper">
 <div id="sidebar">
  <div id="top-links"><span><a href="http://bitbucket.org/fparsec/main">FParsec @ BitBucket</a> | <a href="https://bitbucket.org/fparsec/main/issues">Report a bug</a> | <a href="mailto:fparsec [at] quanttec.com?subject=FParsec&amp;body=Hello Stephan,%0A%0A[your feedback]">Feedback</a></span></div>
  <div id="nav-tree">
   <table class="nav n1">
    <tbody class="nav-open n1">
     <tr class="nav-entry n1 _1">
      <td class="nav-number n1"></td>
      <td class="nav-title n1"><a href="../index.html">FParsec Documentation</a></td>
     </tr>
     <tr class="nav-subentries n1 _1">
      <td class="nav-subentries-number n1"></td>
      <td class="nav-subentries n1">
       <table class="nav n2">
        <tbody class="nav-before-open n2">
         <tr class="nav-entry n2 _1">
          <td class="nav-number n2"><a href="../about/index.html"><span class="section-number">1</span><span class="nav-space"></span></a></td>
          <td class="nav-title n2"><a href="../about/index.html">About FParsec</a></td>
         </tr>
         <tr class="nav-entry n2 _2">
          <td class="nav-number n2"><a href="../license.html"><span class="section-number">2</span><span class="nav-space"></span></a></td>
          <td class="nav-title n2"><a href="../license.html">License</a></td>
         </tr>
         <tr class="nav-entry n2 _3">
          <td class="nav-number n2">
           <a href="../download-and-installation.html"><span class="section-number">3</span><span class="nav-space"></span></a>
          </td>
          <td class="nav-title n2"><a href="../download-and-installation.html">Download and installation</a></td>
         </tr>
         <tr class="nav-entry n2 _4">
          <td class="nav-number n2"><a href="../tutorial.html"><span class="section-number">4</span><span class="nav-space"></span></a></td>
          <td class="nav-title n2"><a href="../tutorial.html">Tutorial</a></td>
         </tr>
         <tr class="nav-entry n2 _5">
          <td class="nav-number n2"><a href="../users-guide/index.html"><span class="section-number">5</span><span class="nav-space"></span></a></td>
          <td class="nav-title n2"><a href="../users-guide/index.html">User’s Guide</a></td>
         </tr>
        </tbody>
        <tbody class="nav-open n2">
         <tr class="nav-entry n2 _6">
          <td class="nav-number n2"><a href="index.html"><span class="section-number">6</span><span class="nav-space"></span></a></td>
          <td class="nav-title n2"><a href="index.html">Reference</a></td>
         </tr>
         <tr class="nav-subentries n2 _6">
          <td class="nav-subentries-number n2"></td>
          <td class="nav-subentries n2">
           <table class="nav n3">
            <tbody class="nav-before-open n3">
             <tr class="nav-entry n3 _1">
              <td class="nav-number n3"><a href="parser-overview.html"><span class="section-number">1</span><span class="nav-space"></span></a></td>
              <td class="nav-title n3"><a href="parser-overview.html">Parser overview</a></td>
             </tr>
             <tr class="nav-entry n3 _2">
              <td class="nav-number n3"><a href="primitives.html"><span class="section-number">2</span><span class="nav-space"></span></a></td>
              <td class="nav-title n3"><a href="primitives.html">FParsec.Primitives</a></td>
             </tr>
             <tr class="nav-entry n3 _3">
              <td class="nav-number n3"><a href="charparsers.html"><span class="section-number">3</span><span class="nav-space"></span></a></td>
              <td class="nav-title n3"><a href="charparsers.html">FParsec.CharParsers</a></td>
             </tr>
            </tbody>
            <tbody class="nav-open selected n3">
             <tr class="nav-entry selected n3 _4">
              <td class="nav-number selected n3"><a href="#"><span class="section-number">4</span><span class="nav-space"></span></a></td>
              <td class="nav-title selected n3"><a href="#">FParsec.OperatorPrecedenceParser</a></td>
             </tr>
             <tr class="nav-subentries selected n3 _4">
              <td class="nav-subentries-number selected n3"></td>
              <td class="nav-subentries selected n3">
               <table class="nav n4">
                <tbody class="nav-before-open n4">
                 <tr class="nav-entry n4 _1">
                  <td class="nav-number n4"><a href="#interface"><span class="section-number">1</span><span class="nav-space"></span></a></td>
                  <td class="nav-title n4"><a href="#interface">Interface</a></td>
                 </tr>
                 <tr class="nav-entry n4 _2">
                  <td class="nav-number n4"><a href="#members"><span class="section-number">2</span><span class="nav-space"></span></a></td>
                  <td class="nav-title n4"><a href="#members">Members</a></td>
                 </tr>
                </tbody>
               </table>
              </td>
             </tr>
            </tbody>
            <tbody class="nav-after-open n3">
             <tr class="nav-entry n3 _5">
              <td class="nav-number n3"><a href="staticmapping.html"><span class="section-number">5</span><span class="nav-space"></span></a></td>
              <td class="nav-title n3"><a href="staticmapping.html">FParsec.StaticMapping</a></td>
             </tr>
             <tr class="nav-entry n3 _6">
              <td class="nav-number n3"><a href="reply.html"><span class="section-number">6</span><span class="nav-space"></span></a></td>
              <td class="nav-title n3"><a href="reply.html">FParsec.Reply</a></td>
             </tr>
             <tr class="nav-entry n3 _7">
              <td class="nav-number n3"><a href="error.html"><span class="section-number">7</span><span class="nav-space"></span></a></td>
              <td class="nav-title n3"><a href="error.html">FParsec.Error</a></td>
             </tr>
             <tr class="nav-entry n3 _8">
              <td class="nav-number n3"><a href="errormessage.html"><span class="section-number">8</span><span class="nav-space"></span></a></td>
              <td class="nav-title n3"><a href="errormessage.html">FParsec.ErrorMessage</a></td>
             </tr>
             <tr class="nav-entry n3 _9">
              <td class="nav-number n3"><a href="errormessagelist.html"><span class="section-number">9</span><span class="nav-space"></span></a></td>
              <td class="nav-title n3"><a href="errormessagelist.html">FParsec.ErrorMessageList</a></td>
             </tr>
             <tr class="nav-entry n3 _0">
              <td class="nav-number n3"><a href="position.html"><span class="section-number">10</span><span class="nav-space"></span></a></td>
              <td class="nav-title n3"><a href="position.html">FParsec.Position</a></td>
             </tr>
             <tr class="nav-entry n3 _1">
              <td class="nav-number n3"><a href="charstream.html"><span class="section-number">11</span><span class="nav-space"></span></a></td>
              <td class="nav-title n3"><a href="charstream.html">FParsec.CharStream</a></td>
             </tr>
             <tr class="nav-entry n3 _2">
              <td class="nav-number n3"><a href="text.html"><span class="section-number">12</span><span class="nav-space"></span></a></td>
              <td class="nav-title n3"><a href="text.html">FParsec.Text</a></td>
             </tr>
            </tbody>
           </table>
          </td>
         </tr>
        </tbody>
       </table>
      </td>
     </tr>
    </tbody>
   </table>
  </div>
  <div id="copyright">
    <span>Copyright © 2015 <a href="../about/contact.html">Stephan Tolksdorf</a></span>
  </div>
 </div>
 </div>
 </div>
 <div id="wrapper">
 <div id="main">
 <div id="main-content">
 <div id="breadcrumbs">
  <span class="breadcrumbs">
   <span id="breadcrumbs-parents"><a href="../index.html">FParsec Documentation</a><span class="breadcrumbs-sep"> > </span><a href="index.html">Reference</a></span><span class="breadcrumbs-sep"> > </span>FParsec.OperatorPrecedenceParser
  </span>
 </div>
 <div class="section s2">
  <h1 class="title h2"><span><span class="section-number">6.4</span> FParsec.OperatorPrecedenceParser</span></h1>
  <div id="interface" class="section s3">
   <h2 class="title h3"><span><span class="section-number">6.4.1</span> Interface</span></h2>
   <div class="intro i3">
    <div class="para _1 lcinp">
     <div class="interface-code">
<pre class="code fsharp"><span class="clc"><span class="cld">//</span> FParsecCS.dll</span>

<span class="ck">namespace</span> <span class="ci">FParsec</span>

<span class="ck">type</span> <span class="a" id="interface.Associativity"><span class="ci">Associativity</span></span>  <span class="cp">=</span> <span class="a" id="interface.Associativity..None"><span class="ci">None</span></span>  <span class="co">=</span> <span class="cn">0</span>
                    <span class="cp">|</span> <span class="a" id="interface.Associativity..Left"><span class="ci">Left</span></span>  <span class="co">=</span> <span class="cn">1</span>
                    <span class="cp">|</span> <span class="a" id="interface.Associativity..Right"><span class="ci">Right</span></span> <span class="co">=</span> <span class="cn">2</span>

<span class="ck">type</span> <span class="a" id="interface.OperatorType"><span class="ci">OperatorType</span></span>  <span class="cp">=</span> <span class="a" id="interface.OperatorType..Infix"><span class="ci">Infix</span></span>   <span class="co">=</span> <span class="cn">0</span>
                   <span class="cp">|</span> <span class="a" id="interface.OperatorType..Prefix"><span class="ci">Prefix</span></span>  <span class="co">=</span> <span class="cn">1</span>
                   <span class="cp">|</span> <span class="a" id="interface.OperatorType..Postfix"><span class="ci">Postfix</span></span> <span class="co">=</span> <span class="cn">2</span>


<span class="ck">type</span> <a id="interface.Operator:B:" href="#members.Operator"><span class="interface-member-marker"><span class="ci">Operator</span></span></a><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span class="cp">&gt;</span><span class="co">=</span>
  <span class="ck">member</span> <a id="interface.Type:B:" href="#members.Type"><span class="interface-member-marker"><span class="ci">Type</span></span></a><span class="cp">:</span> <a href="#interface.OperatorType"><span class="ci">OperatorType</span></a>
  <span class="ck">member</span> <a id="interface.Operator..Associativity:B:" href="#members.Operator..Associativity"><span class="interface-member-marker"><span class="ci">Associativity</span></span></a><span class="cp">:</span> <a href="#interface.Associativity"><span class="ci">Associativity</span></a>
  <span class="ck">member</span> <a id="interface.Precedence:B:" href="#members.Precedence"><span class="interface-member-marker"><span class="ci">Precedence</span></span></a><span class="cp">:</span> <span class="ci">int</span>

  <span class="ck">member</span> <a id="interface.IsAssociative:B:" href="#members.IsAssociative"><span class="interface-member-marker"><span class="ci">IsAssociative</span></span></a><span class="cp">:</span> <span class="ci">bool</span>
  <span class="ck">member</span> <a id="interface.IsTernary:B:" href="#members.IsTernary"><span class="interface-member-marker"><span class="ci">IsTernary</span></span></a><span class="cp">:</span> <span class="ci">bool</span>

  <span class="ck">member</span> <a id="interface.String:B:" href="#members.String"><span class="interface-member-marker"><span class="ci">String</span></span></a><span class="cp">:</span> <span class="ci">string</span>
  <span class="ck">member</span> <a id="interface.TernaryRightString:B:" href="#members.TernaryRightString"><span class="interface-member-marker"><span class="ci">TernaryRightString</span></span></a><span class="cp">:</span> <span class="ci">string</span> <span class="clc"><span class="cld">//</span> null for non-ternary operators</span>

<span class="clc"><span class="cld">//</span> the following four types inherit from Operator&lt;_,_,_&gt;</span>
<span class="ck">type</span> <a id="interface.InfixOperator:B:" href="#members.InfixOperator"><span class="interface-member-marker"><span class="ci">InfixOperator</span></span></a><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span class="cp">&gt;</span> <span class="cp">=</span> <span class="clc"><span class="cld">//</span> ...</span>
<span class="ck">type</span> <a id="interface.PrefixOperator:B:" href="#members.PrefixOperator"><span class="interface-member-marker"><span class="ci">PrefixOperator</span></span></a><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span class="cp">&gt;</span> <span class="cp">=</span> <span class="clc"><span class="cld">//</span> ...</span>
<span class="ck">type</span> <a id="interface.PostfixOperator:B:" href="#members.PostfixOperator"><span class="interface-member-marker"><span class="ci">PostfixOperator</span></span></a><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span class="cp">&gt;</span> <span class="cp">=</span> <span class="clc"><span class="cld">//</span> ...</span>
<span class="ck">type</span> <a id="interface.TernaryOperator:B:" href="#members.TernaryOperator"><span class="interface-member-marker"><span class="ci">TernaryOperator</span></span></a><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span class="cp">&gt;</span> <span class="cp">=</span> <span class="clc"><span class="cld">//</span> ...</span>


<span class="ck">type</span> <a id="interface.OperatorPrecedenceParser:B:" href="#members.OperatorPrecedenceParser"><span class="interface-member-marker"><span class="ci">OperatorPrecedenceParser</span></span></a><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span class="cp">&gt;</span> <span class="co">=</span>
  <span class="ck">member</span> <a id="interface.ExpressionParser:B:" href="#members.ExpressionParser"><span class="interface-member-marker"><span class="ci">ExpressionParser</span></span></a><span class="cp">:</span> <a href="primitives.html#members.Parser"><span class="ci">Parser</span></a><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span><span class="ctv">'TUserState</span><span class="cp">&gt;</span>
  <span class="ck">member</span> <a id="interface.TermParser:B:" href="#members.TermParser"><span class="interface-member-marker"><span class="ci">TermParser</span></span></a><span class="cp">:</span> <a href="primitives.html#members.Parser"><span class="ci">Parser</span></a><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span><span class="ctv">'TUserState</span><span class="cp">&gt;</span> <span class="ck">with</span> <span class="ci">get</span><span class="cp">,</span> <span class="ci">set</span>

  <span class="ck">member</span> <a id="interface.AddOperator:B:" href="#members.AddOperator"><span class="interface-member-marker"><span class="ci">AddOperator</span></span></a><span class="cp">:</span> <a href="#members.Operator"><span class="ci">Operator</span></a><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span class="cp">&gt;</span> <span class="cr">-&gt;</span> <span class="ci">unit</span>

  <span class="ck">member</span> <a id="interface.RemoveOperator:B:" href="#members.RemoveOperator"><span class="interface-member-marker"><span class="ci">RemoveOperator</span></span></a><span class="cp">:</span> <a href="#members.Operator"><span class="ci">Operator</span></a><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span class="cp">&gt;</span> <span class="cr">-&gt;</span> <span class="ci">bool</span>
  <span class="ck">member</span> <a id="interface.RemoveInfixOperator:B:" href="#members.RemoveInfixOperator"><span class="interface-member-marker"><span class="ci">RemoveInfixOperator</span></span></a><span class="cp">:</span> <span class="ci">string</span> <span class="cr">-&gt;</span> <span class="ci">bool</span>
  <span class="ck">member</span> <a id="interface.RemovePrefixOperator:B:" href="#members.RemovePrefixOperator"><span class="interface-member-marker"><span class="ci">RemovePrefixOperator</span></span></a><span class="cp">:</span> <span class="ci">string</span> <span class="cr">-&gt;</span> <span class="ci">bool</span>
  <span class="ck">member</span> <a id="interface.RemovePostfixOperator:B:" href="#members.RemovePostfixOperator"><span class="interface-member-marker"><span class="ci">RemovePostfixOperator</span></span></a><span class="cp">:</span> <span class="ci">string</span> <span class="cr">-&gt;</span> <span class="ci">bool</span>
  <span class="ck">member</span> <a id="interface.RemoveTernaryOperator:B:" href="#members.RemoveTernaryOperator"><span class="interface-member-marker"><span class="ci">RemoveTernaryOperator</span></span></a><span class="cp">:</span> <span class="ci">string</span> <span class="cp">*</span> <span class="ci">string</span> <span class="cr">-&gt;</span> <span class="ci">bool</span>
  <span class="ck">member</span> <a id="interface.Operators:B:" href="#members.Operators"><span class="interface-member-marker"><span class="ci">Operators</span></span></a><span class="cp">:</span> <span class="ci">seq</span><span class="cp">&lt;</span><span class="ci">PrecedenceParserOp</span><span class="cp">&lt;</span><span class="ctv">'a</span><span class="cp">,</span><span class="ctv">'u</span><span class="cp">&gt;</span><span class="cp">&gt;</span>

  <span class="ck">member</span> <a id="interface.OperatorConflictErrorFormatter:B:" href="#members.OperatorConflictErrorFormatter"><span class="interface-member-marker"><span class="ci">OperatorConflictErrorFormatter</span></span></a><span class="cp">:</span>
    <span class="cp">(</span>   <a href="charstream.html#CharStream.members.Position"><span class="ci">Position</span></a> <span class="cp">*</span> <a href="#members.Operator"><span class="ci">Operator</span></a><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span class="cp">&gt;</span> <span class="cp">*</span> <span class="ctv">'TAfterString</span>
     <span class="cr">-&gt;</span> <a href="charstream.html#CharStream.members.Position"><span class="ci">Position</span></a> <span class="cp">*</span> <a href="#members.Operator"><span class="ci">Operator</span></a><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span class="cp">&gt;</span> <span class="cp">*</span> <span class="ctv">'TAfterString</span>
     <span class="cr">-&gt;</span> <a href="errormessagelist.html"><span class="ci">ErrorMessageList</span></a><span class="cp">)</span>
    <span class="ck">with</span> <span class="ci">get</span><span class="cp">,</span> <span class="ci">set</span>

  <span class="ck">member</span> <a id="interface.MissingTernary2ndStringErrorFormatter:B:" href="#members.MissingTernary2ndStringErrorFormatter"><span class="interface-member-marker"><span class="ci">MissingTernary2ndStringErrorFormatter</span></span></a><span class="cp">:</span>
    <span class="cp">(</span>   <a href="charstream.html#CharStream.members.Position"><span class="ci">Position</span></a> <span class="cp">*</span> <a href="charstream.html#CharStream.members.Position"><span class="ci">Position</span></a>
      <span class="cp">*</span> <a href="#members.TernaryOperator"><span class="ci">TernaryOperator</span></a><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span class="cp">&gt;</span> <span class="cp">*</span> <span class="ctv">'TAfterString</span>
     <span class="cr">-&gt;</span> <a href="errormessagelist.html"><span class="ci">ErrorMessageList</span></a><span class="cp">)</span>
    <span class="ck">with</span> <span class="ci">get</span><span class="cp">,</span> <span class="ci">set</span>
</pre>
     </div>
    </div>
   </div>
  </div>
  <div id="members" class="section s3">
   <h2 class="title h3"><span><span class="section-number">6.4.2</span> Members</span></h2>
   <div class="intro i3">
    <div class="para _1 lcinp">
     <div class="interface-members">
      <div class="interface-member _1" id="members.Operator">
       <div class="interface-member-code">
        <a class="interface-member-backlink" href="#interface.Operator:B:">⇧</a>
<pre class="code fsharp"><span class="ck">type</span> <span class="interface-member-marker"><span class="ci">Operator</span></span><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span class="cp">&gt;</span></pre>
       </div>
       <div class="interface-member-description">
        <div class="para _1">
         <p>
          The <code class="fsharp"><span class="ci">Operator</span></code> type represents an immutable operator definition for the <code
          class="fsharp"><a href="#members.OperatorPrecedenceParser"><span class="ci">OperatorPrecedenceParser</span></a><span
          class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span> <span class="ctv">'TAfterString</span><span
          class="cp">,</span> <span class="ctv">'TUserState</span><span class="cp">&gt;</span></code> (OPP) class.
         </p>
        </div>
        <div class="para _2 lcinp">
<pre class="code fsharp"><span class="cp">[&lt;</span><span class="ci">ReferenceEquality</span><span class="cp">&gt;]</span>
<span class="ck">type</span> <span class="ci">Operator</span><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span class="cp">&gt;</span> <span class="cp">=</span>
  <span class="ck">member</span> <a href="#members.Type"><span class="ci">Type</span></a><span class="cp">:</span> <a href="#interface.OperatorType"><span class="ci">OperatorType</span></a>
  <span class="ck">member</span> <a href="#interface.Associativity"><span class="ci">Associativity</span></a><span class="cp">:</span> <a href="#interface.Associativity"><span class="ci">Associativity</span></a>
  <span class="ck">member</span> <a href="#members.Precedence"><span class="ci">Precedence</span></a><span class="cp">:</span> <span class="ci">int</span>

  <span class="ck">member</span> <a href="#members.IsAssociative"><span class="ci">IsAssociative</span></a><span class="cp">:</span> <span class="ci">bool</span>
  <span class="ck">member</span> <a href="#members.IsTernary"><span class="ci">IsTernary</span></a><span class="cp">:</span> <span class="ci">bool</span>

  <span class="ck">member</span> <a href="#members.String"><span class="ci">String</span></a><span class="cp">:</span> <span class="ci">string</span>
  <span class="ck">member</span> <a href="#members.TernaryRightString"><span class="ci">TernaryRightString</span></a><span class="cp">:</span> <span class="ci">string</span> <span class="clc"><span class="cld">//</span> null for non-ternary operators</span>
</pre>
        </div>
        <div class="para _3">
         <p>
          The <code class="fsharp"><span class="ci">Operator</span></code> class is the abstract base class of the <code class="fsharp"><a
          href="#members.InfixOperator"><span class="ci">InfixOperator</span></a></code>, <code class="fsharp"><a href="#members.PrefixOperator"><span
          class="ci">PrefixOperator</span></a></code>, <code class="fsharp"><a href="#members.PostfixOperator"><span
          class="ci">PostfixOperator</span></a></code> and <code class="fsharp"><a href="#members.TernaryOperator"><span
          class="ci">TernaryOperator</span></a></code> classes. With these four concrete classes you can define binary infix (e.g. &#x201C;1 +
          1&#x201D;), unary prefix (e.g. &#x201C;‒1&#x201D;), unary postfix (e.g. &#x201C;1++&#x201D;) and C‐style ternary operators (e.g. &#x201C;a ?
          b : c&#x201D;) for the <code class="fsharp"><a href="#members.OperatorPrecedenceParser"><span
          class="ci">OperatorPrecedenceParser</span></a></code> (OPP) class.
         </p>
        </div>
        <div class="para _4">
         <p>
          If you have look at the constructors for the concrete operator classes, you’ll see that operators are constructed from an operator string,
          an &#x201C;after‐string‐parser&#x201D;, a precedence level, an associativity value and a mapping function that is applied after the
          expression is parsed.
         </p>
        </div>
        <div class="para _5">
         <p>
          Ternary operators are treated as special infix operators and require a string and associated after‐string‐parser parser for each of the two
          operator parts.
         </p>
        </div>
        <div class="para _6 lcinp">
         <div class="dl multi-para">
          <dl class="dl multi-para">
           <dt class="_1">Associativity and precedence</dt>
           <dd class="_1">
            <div class="para _1">
             <p>
              While infix operators can be left‐, right‐ and non‐associative (see the <code class="fsharp"><a href="#interface.Associativity"><span
              class="ci">Associativity</span></a></code> type), prefix and postfix operators can only be associative (<code class="fsharp"><span
              class="cb">true</span></code>) or non‐associative (<code class="fsharp"><span class="cb">false</span></code>). See below for details on
              <a href="#members.precedence-associativity">how precedence and associativity influence the operator precedence parser</a>.
             </p>
            </div>
           </dd>
           <dt class="_2">Textual representation of operators</dt>
           <dd class="_2">
            <div class="para _1">
             <p>
              The operator string and the after‐string‐parser determine the textual representation of an operator. Usually, the after‐string‐parser is
              used for parsing the whitespace after an operator string.
             </p>
            </div>
            <div class="para _2">
             <p>
              OPP instances have separate &#x201C;namespaces&#x201D; for prefix operators on the one hand and infix, postfix or ternary operators on
              the other hand. Hence, you can configure an OPP instance to recognize a prefix operator with the same string as the (first) string of an
              infix, postfix or ternary operator. However, no two prefix operators and no two infix, postfix or ternary operators can have the same
              (first) string. The second string of a ternary operator cannot be used for any other operator at the same time.
             </p>
            </div>
            <div class="para _3">
             <p>
              The OPP class parses operator strings greedily. This means, for example, that if you define a prefix operator with the string <code
              class="fsharp"><span class="cs"><span class="cld">"</span>-<span class="crd">"</span></span></code> and another prefix operator with the
              string <code class="fsharp"><span class="cs"><span class="cld">"</span>--<span class="crd">"</span></span></code>, then the input <code
              class="fsharp"><span class="co">--</span></code> in a prefix location will always be parsed as a <code class="fsharp"><span
              class="co">--</span></code> operator, never as two successive <code class="fsharp"><span class="co">-</span></code> operators.
             </p>
            </div>
           </dd>
           <dt class="_3">How the OPP applies the after‐string‐parser</dt>
           <dd class="_3">
            <div class="para _1">
             <p>
              If the OPP encounters the operator string in the input, it will apply the after‐string‐parser directly after the operator string. If the
              after‐string‐parser succeeds, the operator will be accepted. If the after‐string‐parser fails without consuming input (or changing the
              parser state any another way), the OPP will backtrack to before the operator string and will not try to parse any other operator at this
              location. If the after‐string‐parser parser fails after consuming input, the OPP will itself fail with this error.
             </p>
            </div>
            <div class="para _2">
             <p>
              This backtracking behaviour can be exploited to conditionally accept an operator depending on the input following the operator string.
              For example, the after‐string‐parser definition in <code class="fsharp"><a href="#members.PrefixOperator"><span
              class="ci">PrefixOperator</span></a><span class="cp">(</span><span class="cs"><span class="cld">"</span>not<span
              class="crd">"</span></span><span class="cp">,</span> <a href="primitives.html#members.notFollowedBy"><span
              class="ci">notFollowedBy</span></a> <a href="charparsers.html#members.letter"><span class="ci">letter</span></a> <a
              href="primitives.html#members.:62::62:.."><span class="co">&gt;&gt;.</span></a> <a href="charparsers.html#members.spaces"><span
              class="ci">spaces</span></a><span class="cp">,</span> <span class="cn">1</span><span class="cp">,</span> <span
              class="cb">true</span><span class="cp">,</span> <span class="cbc"><span class="cld">(*</span> ... <span
              class="crd">*)</span></span><span class="cp">)</span></code> will ensure that the <code class="fsharp"><span class="cs"><span
              class="cld">"</span>not<span class="crd">"</span></span></code> in <code class="fsharp"><span class="cs"><span
              class="cld">"</span>notAnOperator<span class="crd">"</span></span></code> cannot be parsed as an operator.
             </p>
            </div>
           </dd>
           <dt class="_4">The mapping function argument of the operator constructors</dt>
           <dd class="_4">
            <div class="para _1">
             <p>
              When an OPP instance has finished parsing a sub‐expresssion involving an operator, it uses the mapping function supplied as the last
              argument to the operator constructor to map the parsed term(s) to a new term. Usually this mapping function constructs an AST node or
              directly transforms the terminal values.
             </p>
            </div>
            <div class="para _2">
             <p>
              The operator classes <code class="fsharp"><a href="#members.InfixOperator"><span class="ci">InfixOperator</span></a></code>, <code
              class="fsharp"><a href="#members.PrefixOperator"><span class="ci">PrefixOperator</span></a></code>, etc. all support two alternative
              types of mapping functions. The simpler type of mapping function only gets passed the parsed term(s). The other type of mapping function
              also gets passed the result(s) of the after‐string‐parser(s).
             </p>
            </div>
           </dd>
           <dt class="_5">More uses of the after‐string‐parser</dt>
           <dd class="_5">
            <div class="para _1">
             <p>
              The combination of individually configurable after‐string‐parsers and mapping functions make the OPP class quite flexible in addressing
              various practical parsing needs.
             </p>
            </div>
            <div class="para _2">
             <p>
              One use of the after‐string‐parser is discussed in the user’s guide section on <a
              href="../users-guide/tips-and-tricks.html#parsing-f-infix-operators">parsing F# infix operators</a>.
             </p>
            </div>
            <div class="para _3">
             <p>
              Another use is demonstrated in the following example. It shows <span class="a" id="members.get-position-with-after-string-parser">how
              you can use the after‐string‐parser to get hold of the precise text location of the parsed operator</span> (which is often useful for
              diagnostic purposes in your application):
             </p>
            </div>
            <div class="para _4 lcinp">
<pre class="code fsharp"><span class="ck">open</span> <span class="ci">FParsec</span>
<span class="ck">open</span> <a href="primitives.html"><span class="ci">FParsec</span><span class="cm">.</span><span class="ci">Primitives</span></a>
<span class="ck">open</span> <a href="charparsers.html"><span class="ci">FParsec</span><span class="cm">.</span><span class="ci">CharParsers</span></a>

<span class="ck">let</span> <span class="ci">opp</span> <span class="cp">=</span> <span class="ck">new</span> <a href="#members.OperatorPrecedenceParser"><span class="ci">OperatorPrecedenceParser</span></a><span class="cp">&lt;</span><span class="ci">_</span><span class="cp">,</span><span class="ci">_</span><span class="cp">,</span><span class="ci">_</span><span class="cp">&gt;</span><span class="cp">()</span>

<span class="ck">let</span> <span class="ci">ws</span> <span class="cp">=</span> <a href="charparsers.html#members.spaces"><span class="ci">spaces</span></a>

<span class="ck">type</span> <span class="ci">Assoc</span> <span class="cp">=</span> <a href="#interface.Associativity"><span class="ci">Associativity</span></a>

<span class="ck">let</span> <span class="ci">adjustPosition</span> <span class="ci">offset</span> <span class="cp">(</span><span class="ci">pos</span><span class="cp">:</span> <a href="charstream.html#CharStream.members.Position"><span class="ci">Position</span></a><span class="cp">)</span> <span class="cp">=</span>
    <a href="charstream.html#CharStream.members.Position"><span class="ci">Position</span></a><span class="cp">(</span><span class="ci">pos</span><span class="cm">.</span><a href="position.html#Position..StreamName"><span class="ci">StreamName</span></a><span class="cp">,</span> <span class="ci">pos</span><span class="cm">.</span><a href="position.html#Position..Index"><span class="ci">Index</span></a> <span class="co">+</span> <span class="ci">int64</span> <span class="ci">offset</span><span class="cp">,</span>
             <span class="ci">pos</span><span class="cm">.</span><a href="position.html#Position..Line"><span class="ci">Line</span></a><span class="cp">,</span> <span class="ci">pos</span><span class="cm">.</span><a href="position.html#Position..Column"><span class="ci">Column</span></a> <span class="co">+</span> <span class="ci">int64</span> <span class="ci">offset</span><span class="cp">)</span>

<span class="clc"><span class="cld">//</span> To simplify infix operator definitions, we define a helper function.</span>
<span class="ck">let</span> <span class="ci">addInfixOperator</span> <span class="ci">str</span> <span class="ci">prec</span> <span class="ci">assoc</span> <span class="ci">mapping</span> <span class="cp">=</span>
    <span class="ck">let</span> <span class="ci">op</span> <span class="cp">=</span> <a href="#members.InfixOperator"><span class="ci">InfixOperator</span></a><span class="cp">(</span><span class="ci">str</span><span class="cp">,</span> <a href="charparsers.html#members.getPosition"><span class="ci">getPosition</span></a> <a href="primitives.html#members...:62::62:"><span class="co">.&gt;&gt;</span></a> <span class="ci">ws</span><span class="cp">,</span> <span class="ci">prec</span><span class="cp">,</span> <span class="ci">assoc</span><span class="cp">,</span> <span class="cp">()</span><span class="cp">,</span>
                           <span class="ck">fun</span> <span class="ci">opPos</span> <span class="ci">leftTerm</span> <span class="ci">rightTerm</span> <span class="cr">-&gt;</span>
                               <span class="ci">mapping</span>
                                   <span class="cp">(</span><span class="ci">adjustPosition</span> <span class="co">-</span><span class="ci">str</span><span class="cm">.</span><span class="ci">Length</span> <span class="ci">opPos</span><span class="cp">)</span>
                                   <span class="ci">leftTerm</span> <span class="ci">rightTerm</span><span class="cp">)</span>
    <span class="ci">opp</span><span class="cm">.</span><a href="#members.AddOperator"><span class="ci">AddOperator</span></a><span class="cp">(</span><span class="ci">op</span><span class="cp">)</span>

<span class="clc"><span class="cld">//</span> Of course, you can define similar functions for other operator types.</span>

<span class="clc"><span class="cld">//</span> With the helper function in place, you can define an operator with</span>
<span class="clc"><span class="cld">//</span> a mapping function that gets passed the text location of the</span>
<span class="clc"><span class="cld">//</span> parsed operator as the first argument.</span>
<span class="ci">addInfixOperator</span> <span class="cs"><span class="cld">"</span>+<span class="crd">"</span></span> <span class="cn">1</span> <span class="ci">Assoc</span><span class="cm">.</span><span class="ci">Left</span> <span class="cp">(</span><span class="ck">fun</span> <span class="ci">opPos</span> <span class="ci">leftTerm</span> <span class="ci">rightTerm</span> <span class="cr">-&gt;</span> <span class="cbc"><span class="cld">(*</span> ... <span class="crd">*)</span></span><span class="cp">)</span>
</pre>
            </div>
           </dd>
          </dl>
         </div>
        </div>
        <div class="para _7">
         <p>
          <br />Members of <code class="fsharp"><span class="ci">Operator</span><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span
          class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span
          class="cp">&gt;</span></code>:
         </p>
        </div>
        <div class="para _8 lcinp">
         <div class="interface-members">
          <div class="interface-member _1" id="members.Type">
           <div class="interface-member-code">
            <a class="interface-member-backlink" href="#interface.Type:B:">⇧</a>
<pre class="code fsharp"><span class="ck">member</span> <span class="interface-member-marker"><span class="ci">Type</span></span><span class="cp">:</span> <a href="#interface.OperatorType"><span class="ci">OperatorType</span></a>
</pre>
           </div>
           <div class="interface-member-description">
            <div class="para _1">
             <p>
              The operator’s type: <code class="fsharp"><a href="#interface.OperatorType..Infix"><span class="ci">Infix</span></a></code>, <code
              class="fsharp"><a href="#interface.OperatorType..Prefix"><span class="ci">Prefix</span></a></code> or <code class="fsharp"><a
              href="#interface.OperatorType..Postfix"><span class="ci">Postfix</span></a></code>.
             </p>
            </div>
            <div class="para _2">
             <p>Ternary operators are treated as special infix operators.</p>
            </div>
           </div>
          </div>
          <div class="interface-member _2" id="members.Operator..Associativity">
           <div class="interface-member-code">
            <a class="interface-member-backlink" href="#interface.Operator..Associativity:B:">⇧</a>
<pre class="code fsharp"><span class="ck">member</span> <span class="interface-member-marker"><span class="ci">Associativity</span></span><span class="cp">:</span> <a href="#interface.Associativity"><span class="ci">Associativity</span></a>
</pre>
           </div>
           <div class="interface-member-description">
            <div class="para _1">
             <p>
              The operator’s associativity: <code class="fsharp"><a href="#interface.Associativity..None"><span class="ci">None</span></a></code>,
              <code class="fsharp"><a href="#interface.Associativity..None"><span class="ci">Left</span></a></code> or <code class="fsharp"><a
              href="#interface.Associativity..None"><span class="ci">Right</span></a></code>.
             </p>
            </div>
            <div class="para _2">
             <p>
              For associative prefix operators this value is <code class="fsharp"><a href="#interface.Associativity..Right"><span
              class="ci">Associativity</span><span class="cm">.</span><span class="ci">Right</span></a></code>, for associative postfix operators this
              value is <code class="fsharp"><a href="#interface.Associativity..Left"><span class="ci">Associativity</span><span
              class="cm">.</span><span class="ci">Left</span></a></code>.
             </p>
            </div>
           </div>
          </div>
          <div class="interface-member _3" id="members.Precedence">
           <div class="interface-member-code">
            <a class="interface-member-backlink" href="#interface.Precedence:B:">⇧</a>
<pre class="code fsharp"><span class="ck">member</span> <span class="interface-member-marker"><span class="ci">Precedence</span></span><span class="cp">:</span> <span class="ci">int</span>
</pre>
           </div>
           <div class="interface-member-description">
            <div class="para _1">
             <p>
              The operator’s precedence value. The value is always greater zero. Operators with a numerically higher precedence value take precedence
              over operators with lower precedence values.
             </p>
            </div>
           </div>
          </div>
          <div class="interface-member _4" id="members.IsAssociative">
           <div class="interface-member-code">
            <a class="interface-member-backlink" href="#interface.IsAssociative:B:">⇧</a>
<pre class="code fsharp"><span class="ck">member</span> <span class="interface-member-marker"><span class="ci">IsAssociative</span></span><span class="cp">:</span> <span class="ci">bool</span>
</pre>
           </div>
           <div class="interface-member-description">
            <div class="para _1">
             <p>
              Is equivalent to <code class="fsharp"><a href="#members.Operator..Associativity"><span class="ci">Associativity</span></a> <span
              class="co">!=</span> <a href="#interface.Associativity..None"><span class="ci">Associativity</span><span class="cm">.</span><span
              class="ci">None</span></a></code>.
             </p>
            </div>
           </div>
          </div>
          <div class="interface-member _5" id="members.IsTernary">
           <div class="interface-member-code">
            <a class="interface-member-backlink" href="#interface.IsTernary:B:">⇧</a>
<pre class="code fsharp"><span class="ck">member</span> <span class="interface-member-marker"><span class="ci">IsTernary</span></span><span class="cp">:</span> <span class="ci">bool</span>
</pre>
           </div>
           <div class="interface-member-description">
            <div class="para _1">
             <p>
              Indicates whether the operator is a <code class="fsharp"><a href="#members.TernaryOperator"><span
              class="ci">TernaryOperator</span></a></code>.
             </p>
            </div>
           </div>
          </div>
          <div class="interface-member _6" id="members.String">
           <div class="interface-member-code">
            <a class="interface-member-backlink" href="#interface.String:B:">⇧</a>
<pre class="code fsharp"><span class="ck">member</span> <span class="interface-member-marker"><span class="ci">String</span></span><span class="cp">:</span> <span class="ci">string</span>
</pre>
           </div>
           <div class="interface-member-description">
            <div class="para _1">
             <p>The operator’s string specified during construction.</p>
            </div>
            <div class="para _2">
             <p>For ternary operators this property returns the left string.</p>
            </div>
           </div>
          </div>
          <div class="interface-member _7" id="members.TernaryRightString">
           <div class="interface-member-code">
            <a class="interface-member-backlink" href="#interface.TernaryRightString:B:">⇧</a>
<pre class="code fsharp"><span class="ck">member</span> <span class="interface-member-marker"><span class="ci">TernaryRightString</span></span><span class="cp">:</span> <span class="ci">string</span></pre>
           </div>
           <div class="interface-member-description">
            <div class="para _1">
             <p>The right string of a <code class="fsharp"><a href="#members.TernaryOperator"><span class="ci">TernaryOperator</span></a></code>.</p>
            </div>
            <div class="para _2">
             <p>For non‐ternary operators this property is null.</p>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
      <div class="interface-member _2" id="members.InfixOperator">
       <div class="interface-member-code">
        <a class="interface-member-backlink" href="#interface.InfixOperator:B:">⇧</a>
<pre class="code fsharp"><span class="ck">type</span> <span class="interface-member-marker"><span class="ci">InfixOperator</span></span><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span class="cp">&gt;</span></pre>
       </div>
       <div class="interface-member-description">
        <div class="para _1">
         <p>
          The <code class="fsharp"><span class="ci">InfixOperator</span><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span
          class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span
          class="cp">&gt;</span></code> type represents a binary infix operator definition (e.g. the <code class="fsharp"><span
          class="co">+</span></code> in <code class="fsharp"><span class="cn">1</span> <span class="co">+</span> <span class="cn">1</span></code>) for
          the <code class="fsharp"><a href="#members.OperatorPrecedenceParser"><span class="ci">OperatorPrecedenceParser</span></a></code> class.
         </p>
        </div>
        <div class="para _2 lcinp">
<pre class="code fsharp"><span class="ck">type</span> <span class="ci">InfixOperator</span><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span class="cp">&gt;</span> <span class="cp">=</span>
  <span class="ck">inherit</span> <a href="#members.Operator"><span class="ci">Operator</span></a><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span class="cp">&gt;</span>

  <span class="ck">new</span><span class="cp">:</span>   <span class="ci">operatorString</span><span class="cp">:</span> <span class="ci">string</span>
       <span class="cp">*</span> <span class="ci">afterStringParser</span><span class="cp">:</span> <a href="primitives.html#members.Parser"><span class="ci">Parser</span></a><span class="cp">&lt;</span><span class="ctv">'TAfterString</span><span class="cp">,</span><span class="ctv">'TUserState</span><span class="cp">&gt;</span>
       <span class="cp">*</span> <span class="ci">precedence</span><span class="cp">:</span> <span class="ci">int</span>
       <span class="cp">*</span> <span class="ci">associativity</span><span class="cp">:</span> <a href="#interface.Associativity"><span class="ci">Associativity</span></a>
       <span class="cp">*</span> <span class="ci">mapping</span><span class="cp">:</span> <span class="ctv">'TTerm</span> <span class="cr">-&gt;</span> <span class="ctv">'TTerm</span> <span class="cr">-&gt;</span> <span class="ctv">'TTerm</span>
      <span class="cr">-&gt;</span> <span class="ci">InfixOperator</span><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span class="cp">&gt;</span>

  <span class="ck">new</span><span class="cp">:</span>   <span class="ci">operatorString</span><span class="cp">:</span> <span class="ci">string</span>
       <span class="cp">*</span> <span class="ci">afterStringParser</span><span class="cp">:</span> <a href="primitives.html#members.Parser"><span class="ci">Parser</span></a><span class="cp">&lt;</span><span class="ctv">'TAfterString</span><span class="cp">,</span><span class="ctv">'TUserState</span><span class="cp">&gt;</span>
       <span class="cp">*</span> <span class="ci">precedence</span><span class="cp">:</span> <span class="ci">int</span>
       <span class="cp">*</span> <span class="ci">associativity</span><span class="cp">:</span> <a href="#interface.Associativity"><span class="ci">Associativity</span></a>
       <span class="cp">*</span> <span class="ci">dummy</span><span class="cp">:</span> <span class="ci">unit</span> <span class="clc"><span class="cld">//</span> disambiguates overloads in F#</span>
       <span class="cp">*</span> <span class="ci">mapping</span><span class="cp">:</span> <span class="ctv">'TAfterString</span> <span class="cr">-&gt;</span> <span class="ctv">'TTerm</span> <span class="cr">-&gt;</span> <span class="ctv">'TTerm</span> <span class="cr">-&gt;</span> <span class="ctv">'TTerm</span>
      <span class="cr">-&gt;</span> <span class="ci">InfixOperator</span><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span class="cp">&gt;</span>
</pre>
        </div>
        <div class="para _3">
         <p>
          <em>The two constructors only differ in the type of the mapping they accept. To help F#’s type inference discern both constructors, the
          second constructor accepts an additional dummy argument.</em>
         </p>
        </div>
        <div class="para _4">
         <p>
          Please see the documentation for the <code class="fsharp"><a href="#members.Operator"><span class="ci">Operator</span></a></code> base class
          for more information.
         </p>
        </div>
       </div>
      </div>
      <div class="interface-member _3" id="members.PrefixOperator">
       <div class="interface-member-code">
        <a class="interface-member-backlink" href="#interface.PrefixOperator:B:">⇧</a>
<pre class="code fsharp"><span class="ck">type</span> <span class="interface-member-marker"><span class="ci">PrefixOperator</span></span><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span class="cp">&gt;</span></pre>
       </div>
       <div class="interface-member-description">
        <div class="para _1">
         <p>
          The <code class="fsharp"><span class="ci">PrefixOperator</span><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span
          class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span
          class="cp">&gt;</span></code> type represents a unary prefix operator definition (e.g. the <code class="fsharp"><span
          class="co">-</span></code> in <code class="fsharp"><span class="co">-</span><span class="cn">1</span></code>) for the <code
          class="fsharp"><a href="#members.OperatorPrecedenceParser"><span class="ci">OperatorPrecedenceParser</span></a></code> class.
         </p>
        </div>
        <div class="para _2 lcinp">
<pre class="code fsharp"><span class="ck">type</span> <span class="ci">PrefixOperator</span><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span class="cp">&gt;</span> <span class="cp">=</span>
  <span class="ck">inherit</span> <a href="#members.Operator"><span class="ci">Operator</span></a><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span class="cp">&gt;</span>

  <span class="ck">new</span><span class="cp">:</span>   <span class="ci">operatorString</span><span class="cp">:</span> <span class="ci">string</span>
       <span class="cp">*</span> <span class="ci">afterStringParser</span><span class="cp">:</span> <a href="primitives.html#members.Parser"><span class="ci">Parser</span></a><span class="cp">&lt;</span><span class="ctv">'TAfterString</span><span class="cp">,</span><span class="ctv">'TUserState</span><span class="cp">&gt;</span>
       <span class="cp">*</span> <span class="ci">precedence</span><span class="cp">:</span> <span class="ci">int</span>
       <span class="cp">*</span> <span class="ci">isAssociative</span><span class="cp">:</span> <span class="ci">bool</span>
       <span class="cp">*</span> <span class="ci">mapping</span><span class="cp">:</span> <span class="ctv">'TTerm</span> <span class="cr">-&gt;</span> <span class="ctv">'TTerm</span>
      <span class="cr">-&gt;</span> <span class="ci">PrefixOperator</span><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span class="cp">&gt;</span>

  <span class="ck">new</span><span class="cp">:</span>   <span class="ci">operatorString</span><span class="cp">:</span> <span class="ci">string</span>
       <span class="cp">*</span> <span class="ci">afterStringParser</span><span class="cp">:</span> <a href="primitives.html#members.Parser"><span class="ci">Parser</span></a><span class="cp">&lt;</span><span class="ctv">'TAfterString</span><span class="cp">,</span><span class="ctv">'TUserState</span><span class="cp">&gt;</span>
       <span class="cp">*</span> <span class="ci">precedence</span><span class="cp">:</span> <span class="ci">int</span>
       <span class="cp">*</span> <span class="ci">isAssociative</span><span class="cp">:</span> <span class="ci">bool</span>
       <span class="cp">*</span> <span class="ci">dummy</span><span class="cp">:</span> <span class="ci">unit</span> <span class="clc"><span class="cld">//</span> disambiguates overloads in F#</span>
       <span class="cp">*</span> <span class="ci">mapping</span><span class="cp">:</span> <span class="ctv">'TAfterString</span> <span class="cr">-&gt;</span> <span class="ctv">'TTerm</span> <span class="cr">-&gt;</span> <span class="ctv">'TTerm</span>
      <span class="cr">-&gt;</span> <span class="ci">PrefixOperator</span><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span class="cp">&gt;</span>
</pre>
        </div>
        <div class="para _3">
         <p>
          <em>The two constructors only differ in the type of the mapping they accept. To help F#’s type inference discern both constructors, the
          second constructor accepts an additional dummy argument.</em>
         </p>
        </div>
        <div class="para _4">
         <p>
          Please see the documentation for the <code class="fsharp"><a href="#members.Operator"><span class="ci">Operator</span></a></code> base class
          for more information.
         </p>
        </div>
       </div>
      </div>
      <div class="interface-member _4" id="members.PostfixOperator">
       <div class="interface-member-code">
        <a class="interface-member-backlink" href="#interface.PostfixOperator:B:">⇧</a>
<pre class="code fsharp"><span class="ck">type</span> <span class="interface-member-marker"><span class="ci">PostfixOperator</span></span><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span class="cp">&gt;</span></pre>
       </div>
       <div class="interface-member-description">
        <div class="para _1">
         <p>
          The <code class="fsharp"><span class="ci">PostfixOperator</span><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span
          class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span
          class="cp">&gt;</span></code> type represents a unary postfix operator definition (e.g. the <code class="fsharp"><span
          class="co">++</span></code> in <code class="fsharp"><span class="cn">1</span><span class="co">++</span></code>) for the <code
          class="fsharp"><a href="#members.OperatorPrecedenceParser"><span class="ci">OperatorPrecedenceParser</span></a></code> class.
         </p>
        </div>
        <div class="para _2 lcinp">
<pre class="code fsharp"><span class="ck">type</span> <span class="ci">PostfixOperator</span><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span class="cp">&gt;</span> <span class="cp">=</span>
  <span class="ck">inherit</span> <a href="#members.Operator"><span class="ci">Operator</span></a><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span class="cp">&gt;</span>

  <span class="ck">new</span><span class="cp">:</span>   <span class="ci">operatorString</span><span class="cp">:</span> <span class="ci">string</span>
       <span class="cp">*</span> <span class="ci">afterStringParser</span><span class="cp">:</span> <a href="primitives.html#members.Parser"><span class="ci">Parser</span></a><span class="cp">&lt;</span><span class="ctv">'TAfterString</span><span class="cp">,</span><span class="ctv">'TUserState</span><span class="cp">&gt;</span>
       <span class="cp">*</span> <span class="ci">precedence</span><span class="cp">:</span> <span class="ci">int</span>
       <span class="cp">*</span> <span class="ci">isAssociative</span><span class="cp">:</span> <span class="ci">bool</span>
       <span class="cp">*</span> <span class="ci">mapping</span><span class="cp">:</span> <span class="ctv">'TTerm</span> <span class="cr">-&gt;</span> <span class="ctv">'TTerm</span>
      <span class="cr">-&gt;</span> <span class="ci">PostfixOperator</span><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span class="cp">&gt;</span>

  <span class="ck">new</span><span class="cp">:</span>   <span class="ci">operatorString</span><span class="cp">:</span> <span class="ci">string</span>
       <span class="cp">*</span> <span class="ci">afterStringParser</span><span class="cp">:</span> <a href="primitives.html#members.Parser"><span class="ci">Parser</span></a><span class="cp">&lt;</span><span class="ctv">'TAfterString</span><span class="cp">,</span><span class="ctv">'TUserState</span><span class="cp">&gt;</span>
       <span class="cp">*</span> <span class="ci">precedence</span><span class="cp">:</span> <span class="ci">int</span>
       <span class="cp">*</span> <span class="ci">isAssociative</span><span class="cp">:</span> <span class="ci">bool</span>
       <span class="cp">*</span> <span class="ci">dummy</span><span class="cp">:</span> <span class="ci">unit</span> <span class="clc"><span class="cld">//</span> disambiguates overloads in F#</span>
       <span class="cp">*</span> <span class="ci">mapping</span><span class="cp">:</span> <span class="ctv">'TAfterString</span> <span class="cr">-&gt;</span> <span class="ctv">'TTerm</span> <span class="cr">-&gt;</span> <span class="ctv">'TTerm</span>
      <span class="cr">-&gt;</span> <span class="ci">PostfixOperator</span><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span class="cp">&gt;</span>
</pre>
        </div>
        <div class="para _3">
         <p>
          <em>The two constructors only differ in the type of the mapping they accept. To help F#’s type inference discern both constructors, the
          second constructor accepts an additional dummy argument.</em>
         </p>
        </div>
        <div class="para _4">
         <p>
          Please see the documentation for the <code class="fsharp"><a href="#members.Operator"><span class="ci">Operator</span></a></code> base class
          for more information.
         </p>
        </div>
       </div>
      </div>
      <div class="interface-member _5" id="members.TernaryOperator">
       <div class="interface-member-code">
        <a class="interface-member-backlink" href="#interface.TernaryOperator:B:">⇧</a>
<pre class="code fsharp"><span class="ck">type</span> <span class="interface-member-marker"><span class="ci">TernaryOperator</span></span><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span class="cp">&gt;</span></pre>
       </div>
       <div class="interface-member-description">
        <div class="para _1">
         <p>
          The <code class="fsharp"><span class="ci">TernaryOperator</span><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span
          class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span
          class="cp">&gt;</span></code> type represents a C‐style ternary operator definition (e.g. the <code class="other">? :</code> in <code
          class="cpp">a ? b : c</code>) for the <code class="fsharp"><a href="#members.OperatorPrecedenceParser"><span
          class="ci">OperatorPrecedenceParser</span></a></code> class.
         </p>
        </div>
        <div class="para _2 lcinp">
<pre class="code fsharp"><span class="ck">type</span> <span class="ci">TernaryOperator</span><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span class="cp">&gt;</span> <span class="cp">=</span>
  <span class="ck">inherit</span> <a href="#members.Operator"><span class="ci">Operator</span></a><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span class="cp">&gt;</span>

  <span class="ck">new</span><span class="cp">:</span>   <span class="ci">leftString</span><span class="cp">:</span> <span class="ci">string</span>
       <span class="cp">*</span> <span class="ci">afterLeftStringParser</span><span class="cp">:</span> <a href="primitives.html#members.Parser"><span class="ci">Parser</span></a><span class="cp">&lt;</span><span class="ctv">'TAfterString</span><span class="cp">,</span><span class="ctv">'TUserState</span><span class="cp">&gt;</span>
       <span class="cp">*</span> <span class="ci">rightString</span><span class="cp">:</span> <span class="ci">string</span>
       <span class="cp">*</span> <span class="ci">afterRightStringParser</span><span class="cp">:</span> <a href="primitives.html#members.Parser"><span class="ci">Parser</span></a><span class="cp">&lt;</span><span class="ctv">'TAfterString</span><span class="cp">,</span><span class="ctv">'TUserState</span><span class="cp">&gt;</span>
       <span class="cp">*</span> <span class="ci">precedence</span><span class="cp">:</span> <span class="ci">int</span>
       <span class="cp">*</span> <span class="ci">associativity</span><span class="cp">:</span> <a href="#interface.Associativity"><span class="ci">Associativity</span></a>
       <span class="cp">*</span> <span class="ci">mapping</span><span class="cp">:</span> <span class="ctv">'TTerm</span> <span class="cr">-&gt;</span> <span class="ctv">'TTerm</span> <span class="cr">-&gt;</span> <span class="ctv">'TTerm</span> <span class="cr">-&gt;</span> <span class="ctv">'TTerm</span>
      <span class="cr">-&gt;</span> <span class="ci">TernaryOperator</span><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span class="cp">&gt;</span>

  <span class="ck">new</span><span class="cp">:</span>   <span class="ci">operatorString</span><span class="cp">:</span> <span class="ci">string</span>
       <span class="cp">*</span> <span class="ci">afterStringParser</span><span class="cp">:</span> <a href="primitives.html#members.Parser"><span class="ci">Parser</span></a><span class="cp">&lt;</span><span class="ctv">'TAfterString</span><span class="cp">,</span><span class="ctv">'TUserState</span><span class="cp">&gt;</span>
       <span class="cp">*</span> <span class="ci">precedence</span><span class="cp">:</span> <span class="ci">int</span>
       <span class="cp">*</span> <span class="ci">isAssociative</span><span class="cp">:</span> <span class="ci">bool</span>
       <span class="cp">*</span> <span class="ci">dummy</span><span class="cp">:</span> <span class="ci">unit</span> <span class="clc"><span class="cld">//</span> disambiguates overloads in F#</span>
       <span class="cp">*</span> <span class="ci">mapping</span><span class="cp">:</span>   <span class="ctv">'TAfterString</span> <span class="cr">-&gt;</span> <span class="ctv">'TAfterString</span> <span class="cr">-&gt;</span> <span class="ctv">'TTerm</span> <span class="cr">-&gt;</span> <span class="ctv">'TTerm</span> <span class="cr">-&gt;</span> <span class="ctv">'TTerm</span>
                 <span class="cr">-&gt;</span> <span class="ctv">'TTerm</span>
      <span class="cr">-&gt;</span> <span class="ci">TernaryOperator</span><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span class="cp">&gt;</span>
</pre>
        </div>
        <div class="para _3">
         <p>
          <em>The two constructors only differ in the type of the mapping they accept. To help F#’s type inference discern both constructors, the
          second constructor accepts an additional dummy argument.</em>
         </p>
        </div>
        <div class="para _4">
         <p>
          Please see the documentation for the <code class="fsharp"><a href="#members.Operator"><span class="ci">Operator</span></a></code> base class
          for more information.
         </p>
        </div>
       </div>
      </div>
      <div class="interface-member _6" id="members.OperatorPrecedenceParser">
       <div class="interface-member-code">
        <a class="interface-member-backlink" href="#interface.OperatorPrecedenceParser:B:">⇧</a>
<pre class="code fsharp"><span class="ck">type</span> <span class="interface-member-marker"><span class="ci">OperatorPrecedenceParser</span></span><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span class="cp">&gt;</span></pre>
       </div>
       <div class="interface-member-description">
        <div class="para _1">
         <p>
          The <code class="fsharp"><span class="ci">OperatorPrecedenceParser</span></code> class (OPP) represents a dynamically configurable parser
          for parsing expression grammars involving binary infix (e.g. <code class="fsharp"><span class="cn">1</span> <span class="co">+</span> <span
          class="cn">1</span></code>), unary prefix (e.g. <code class="fsharp"><span class="co">-</span><span class="cn">1</span></code>), unary
          postfix (e.g. <code class="fsharp"><span class="cn">1</span><span class="co">++</span></code>) and C‐style ternary operators (e.g. <code
          class="cpp">a ? b : c</code>).
         </p>
        </div>
        <div class="para _2">
         <p>
          You can configure an OPP instance by adding and removing operator definitions in the form of <strong><code class="fsharp"><a
          href="#members.Operator"><span class="ci">Operator</span></a></code></strong> values. If you add an operator that conflicts with a previous
          operator definition, <code class="fsharp"><a href="#members.AddOperator"><span class="ci">AddOperator</span></a></code> will raise an <code
          class="fsharp"><a href="http://msdn.microsoft.com/en-us/library/system.argumentexception.aspx"><span
          class="ci">ArgumentException</span></a></code>. The <code class="fsharp"><a href="#members.Operators"><span
          class="ci">Operators</span></a></code> property returns a snapshot of the currently defined set of operators. The <code class="fsharp"><a
          href="#members.RemoveInfixOperator"><span class="ci">RemoveInfixOperator</span></a></code>, <code class="fsharp"><a
          href="#members.RemovePrefixOperator"><span class="ci">RemovePrefixOperator</span></a></code>, etc. members remove operator definitions based
          only on their text representation. All <code class="fsharp"><span class="ci">Remove</span><span class="co">...</span></code> members return
          <code class="fsharp"><span class="cb">false</span></code> if no matching operator was previously defined, otherwise <code
          class="fsharp"><span class="cb">true</span></code>.
         </p>
        </div>
        <div class="para _3">
         <p>
          The actual expression parser of the OPP is exposed through the <code class="fsharp"><strong><a href="#members.ExpressionParser"><span
          class="ci">ExpressionParser</span></a></strong></code> property. The <code class="fsharp"><a href="#members.ExpressionParser"><span
          class="ci">ExpressionParser</span></a></code> value is a constant closure that forwards all work to internal instance methods. This ensures
          that the behaviour of the expression parser always reflects the latest configuration of the OPP instance. You can safely call the <code
          class="fsharp"><a href="#members.ExpressionParser"><span class="ci">ExpressionParser</span></a></code> concurrently from multiple threads,
          as long as the configuration of the OPP instance is not changed at the same time.
         </p>
        </div>
        <div class="para _4">
         <p>
          Before you can call the <code class="fsharp"><a href="#members.ExpressionParser"><span class="ci">ExpressionParser</span></a></code> you
          first need to set the <code class="fsharp"><strong><a href="#members.TermParser"><span class="ci">TermParser</span></a></strong></code>. The
          OPP instance uses the <code class="fsharp"><a href="#members.TermParser"><span class="ci">TermParser</span></a></code> to parse the terms in
          between the operators. Often the <code class="fsharp"><a href="#members.TermParser"><span class="ci">TermParser</span></a></code> will not
          just parse terminal values but will also recursively call the <code class="fsharp"><a href="#members.ExpressionParser"><span
          class="ci">ExpressionParser</span></a></code>, for example to parse an expression between parentheses. Note that the <code class="fsharp"><a
          href="#members.TermParser"><span class="ci">TermParser</span></a></code> also needs to consume any trailing whitespace.
         </p>
        </div>
        <div class="para _5 lcinp">
         <p>This example shows how to define a parser for very simple arithmetic expressions:</p>
<pre class="code fsharp"><span class="ck">open</span> <span class="ci">FParsec</span>
<span class="ck">open</span> <a href="primitives.html"><span class="ci">FParsec</span><span class="cm">.</span><span class="ci">Primitives</span></a>
<span class="ck">open</span> <a href="charparsers.html"><span class="ci">FParsec</span><span class="cm">.</span><span class="ci">CharParsers</span></a>

<span class="ck">let</span> <span class="ci">ws</span> <span class="cp">=</span> <a href="charparsers.html#members.spaces"><span class="ci">spaces</span></a>
<span class="ck">let</span> <span class="ci">str_ws</span> <span class="ci">s</span> <span class="cp">=</span> <a href="charparsers.html#members.pstring"><span class="ci">pstring</span></a> <span class="ci">s</span> <a href="primitives.html#members.:62::62:.."><span class="co">&gt;&gt;.</span></a> <span class="ci">ws</span>

<span class="ck">let</span> <span class="ci">opp</span> <span class="cp">=</span> <span class="ck">new</span> <span class="ci">OperatorPrecedenceParser</span><span class="cp">&lt;</span><span class="ci">float</span><span class="cp">,</span><span class="ci">unit</span><span class="cp">,</span><span class="ci">unit</span><span class="cp">&gt;</span><span class="cp">()</span>
<span class="ck">let</span> <span class="ci">expr</span> <span class="cp">=</span> <span class="ci">opp</span><span class="cm">.</span><a href="#members.ExpressionParser"><span class="ci">ExpressionParser</span></a>
<span class="ck">let</span> <span class="ci">term</span> <span class="cp">=</span> <span class="cp">(</span><a href="charparsers.html#members.pfloat"><span class="ci">pfloat</span></a> <a href="primitives.html#members...:62::62:"><span class="co">.&gt;&gt;</span></a> <span class="ci">ws</span><span class="cp">)</span> <a href="primitives.html#members.:60::124::62:"><span class="co">&lt;|&gt;</span></a> <a href="primitives.html#members.between"><span class="ci">between</span></a> <span class="cp">(</span><span class="ci">str_ws</span> <span class="cs"><span class="cld">"</span>(<span class="crd">"</span></span><span class="cp">)</span> <span class="cp">(</span><span class="ci">str_ws</span> <span class="cs"><span class="cld">"</span>)<span class="crd">"</span></span><span class="cp">)</span> <span class="ci">expr</span>
<span class="ci">opp</span><span class="cm">.</span><a href="#members.TermParser"><span class="ci">TermParser</span></a> <span class="co">&lt;-</span> <span class="ci">term</span>

<span class="ck">type</span> <span class="ci">Assoc</span> <span class="cp">=</span> <a href="#interface.Associativity"><span class="ci">Associativity</span></a>

<span class="ci">opp</span><span class="cm">.</span><a href="#members.AddOperator"><span class="ci">AddOperator</span></a><span class="cp">(</span><a href="#members.InfixOperator"><span class="ci">InfixOperator</span></a><span class="cp">(</span><span class="cs"><span class="cld">"</span>+<span class="crd">"</span></span><span class="cp">,</span> <span class="ci">ws</span><span class="cp">,</span> <span class="cn">1</span><span class="cp">,</span> <span class="ci">Assoc</span><span class="cm">.</span><span class="ci">Left</span><span class="cp">,</span> <span class="ck">fun</span> <span class="ci">x</span> <span class="ci">y</span> <span class="cr">-&gt;</span> <span class="ci">x</span> <span class="co">+</span> <span class="ci">y</span><span class="cp">)</span><span class="cp">)</span>
<span class="ci">opp</span><span class="cm">.</span><a href="#members.AddOperator"><span class="ci">AddOperator</span></a><span class="cp">(</span><a href="#members.InfixOperator"><span class="ci">InfixOperator</span></a><span class="cp">(</span><span class="cs"><span class="cld">"</span>*<span class="crd">"</span></span><span class="cp">,</span> <span class="ci">ws</span><span class="cp">,</span> <span class="cn">2</span><span class="cp">,</span> <span class="ci">Assoc</span><span class="cm">.</span><span class="ci">Left</span><span class="cp">,</span> <span class="ck">fun</span> <span class="ci">x</span> <span class="ci">y</span> <span class="cr">-&gt;</span> <span class="ci">x</span> <span class="co">*</span> <span class="ci">y</span><span class="cp">)</span><span class="cp">)</span>
</pre>
<pre class="code fsharp"><span class="cmd"><span class="cmdp">&gt;</span> <a href="charparsers.html#members.run"><span class="ci">run</span></a> <span class="ci">expr</span> <span class="cs"><span class="cld">"</span>1 + 2*(3 + 4)<span class="crd">"</span></span><span class="cp">;;</span></span>
<span class="cout">val it : ParserResult&lt;float,unit&gt; = Success: 15.0
</span></pre>
        </div>
        <div class="para _6">
         <p>
          <span class="a" id="members.precedence-associativity"></span>The following points explain <em>how expressions are parsed depending on
          precedence and associativity</em> of the involved operators:
         </p>
        </div>
        <div class="para _7 lcinp">
         <ul class="l1">
          <li class="_1">
           Operators with higher precedence bind tighter. For example, if the prefix operator &#x201C;~&#x201D; has a lower precedence than the infix
           operator &#x201C;&amp;&#x201D; then &#x201C;~x&amp;y&#x201D; will be parsed as &#x201C;~(x&amp;y)&#x201D;.
          </li>
         </ul>
        </div>
        <div class="para _8 lcinp">
         <ul class="l1">
          <li class="_1">
           Ternary operators are treated as special infix operators. The middle expression (e.g. &#x201C;expr2&#x201D; in &#x201C;expr1 ? expr2 :
           expr3&#x201D;) is parsed as a &#x201C;fresh&#x201D; expression that is not influenced by the precedence of the surrounding operators.
          </li>
         </ul>
        </div>
        <div class="para _9 lcinp">
         <ul class="l1">
          <li class="_1">
           <p>Operators with identical precedence are parsed as follows:</p>
<pre class="code other">Here o1,   o2   are two infix operators,
     pre1, pre2 are two prefix operators,
     po1,  po2  are two postfix operators
and all operators have identical precedence.

pre1 x o1 y  ==&gt;  (pre1 x) o1 y
x o1 y po1   ==&gt;  x o1 (y po1)
x o1 y o2 z  ==&gt;  (x o1 y) o2 z  if o1 and o2 are left-associative
x o1 y o2 z  ==&gt;  x o1 (y o2 z)  if o1 and o2 are right-associative
pre1 x po1   ==&gt;  (pre1 x) po1   if pre1 or po1  is associative
pre1 pre2 x  ==&gt;  pre1 (pre2 x)  if pre1 or pre2 is associative
x po1 po2    ==&gt;  (x po1) po2    if po1  or po2  is associative
  </pre>
          </li>
         </ul>
        </div>
        <div class="para _0 lcinp">
         <ul class="multi-para l1">
          <li class="_1">
           <div class="para _1">
            <p>
             If the parser encounters <span class="a" id="members.conflicting-operators">conflicting operators</span>, e.g. if a right‐associative
             infix operators follows a left‐associative operator with the same precedence level, the OPP fails and returns with an error generated
             with the help of the <code class="fsharp"><a href="#members.OperatorConflictErrorFormatter"><span
             class="ci">OperatorConflictErrorFormatter</span></a></code>.
            </p>
           </div>
           <div class="para _2 lcinp">
            <p>In the following situations the OPP will fail with an operator conflict error:</p>
<pre class="code other">[Same notation as above, all operators have identical precedence.]

x o1 y o2 z  if o1 and o2 have different associativity
             or o1 and o2 are non-associative
pre1 pre2 x  if pre1 and pre2 are non-associative
pre1 x po1   if pre1 and po1  are non-associative
x po1 po2    if po1  and po2  are non-associative
</pre>
           </div>
           <div class="para _3">
            <p>
             By giving all operators different precedence levels and making all operators associative, you can exclude any possible operator conflict.
             A practical reason for defining operators that can lead to conflicts in the inputs (e.g. non‐associative operators) is to force the user
             to explicitely parenthesize an expression involving such operators.
            </p>
           </div>
          </li>
         </ul>
        </div>
        <div class="para _1">
         <p>
          <br />Members of <code class="fsharp"><span class="ci">OperatorPrecedenceParser</span><span class="cp">&lt;</span><span
          class="ctv">'TTerm</span><span class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span
          class="ctv">'TUserState</span><span class="cp">&gt;</span></code>:
         </p>
        </div>
        <div class="para _2 lcinp">
         <div class="interface-members">
          <div class="interface-member _1" id="members.ExpressionParser">
           <div class="interface-member-code">
            <a class="interface-member-backlink" href="#interface.ExpressionParser:B:">⇧</a>
<pre class="code fsharp"><span class="ck">member</span> <span class="interface-member-marker"><span class="ci">ExpressionParser</span></span><span class="cp">:</span> <a href="primitives.html#members.Parser"><span class="ci">Parser</span></a><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span><span class="ctv">'TUserState</span><span class="cp">&gt;</span>
</pre>
           </div>
           <div class="interface-member-description">
            <div class="para _1">
             <p>
              The expression parser. This is a constant closure that forwards all work to internal instance methods, so that the behaviour of the
              expression parser always reflects the latest configuration of the OPP instance.
             </p>
            </div>
            <div class="para _2">
             <p>
              You can safely call the <code class="fsharp"><span class="ci">ExpressionParser</span></code> concurrently from multiple threads, as long
              as the configuration of the <code class="fsharp"><span class="ci">OperatorPrecedenceParser</span></code> instance is not changed at the
              same time.
             </p>
            </div>
           </div>
          </div>
          <div class="interface-member _2" id="members.TermParser">
           <div class="interface-member-code">
            <a class="interface-member-backlink" href="#interface.TermParser:B:">⇧</a>
<pre class="code fsharp"><span class="ck">member</span> <span class="interface-member-marker"><span class="ci">TermParser</span></span><span class="cp">:</span> <a href="primitives.html#members.Parser"><span class="ci">Parser</span></a><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span><span class="ctv">'TUserState</span><span class="cp">&gt;</span> <span class="ck">with</span> <span class="ci">get</span><span class="cp">,</span> <span class="ci">set</span>
</pre>
           </div>
           <div class="interface-member-description">
            <div class="para _1">
             <p>
              This parser is called to parse the terms in between the operators. There is no default, so you must set this parser before you can call
              the <code class="fsharp"><a href="#members.ExpressionParser"><span class="ci">ExpressionParser</span></a></code>. Note that the term
              parser is also expected to parse any whitespace after a term.
             </p>
            </div>
           </div>
          </div>
          <div class="interface-member _3" id="members.AddOperator">
           <div class="interface-member-code">
            <a class="interface-member-backlink" href="#interface.AddOperator:B:">⇧</a>
<pre class="code fsharp"><span class="ck">member</span> <span class="interface-member-marker"><span class="ci">AddOperator</span></span><span class="cp">:</span> <a href="#members.Operator"><span class="ci">Operator</span></a><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span class="cp">&gt;</span> <span class="cr">-&gt;</span> <span class="ci">unit</span>
</pre>
           </div>
           <div class="interface-member-description">
            <div class="para _1">
             <p>
              Adds an operator to the grammar. Raises an <code class="fsharp"><a
              href="http://msdn.microsoft.com/en-us/library/system.argumentexception.aspx"><span class="ci">ArgumentException</span></a></code> if the
              operator definition conflicts with a previous definition.
             </p>
            </div>
           </div>
          </div>
          <div class="interface-member _4" id="members.RemoveOperator">
           <div class="interface-member-code">
            <a class="interface-member-backlink" href="#interface.RemoveOperator:B:">⇧</a>
<pre class="code fsharp"><span class="ck">member</span> <span class="interface-member-marker"><span class="ci">RemoveOperator</span></span><span class="cp">:</span> <a href="#members.Operator"><span class="ci">Operator</span></a><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span class="cp">&gt;</span> <span class="cr">-&gt;</span> <span class="ci">bool</span>
</pre>
           </div>
           <div class="interface-member-description">
            <div class="para _1">
             <p>
              Removes the given <code class="fsharp"><a href="#members.Operator"><span class="ci">Operator</span></a></code> instance from the
              grammar. Returns <code class="fsharp"><span class="cb">false</span></code> if the <code class="fsharp"><a href="#members.Operator"><span
              class="ci">Operator</span></a></code> instance was not previously registered, otherwise <code class="fsharp"><span
              class="cb">true</span></code>.
             </p>
            </div>
           </div>
          </div>
          <div class="interface-member _5" id="members.RemoveInfixOperator">
           <div class="interface-member-code">
            <a class="interface-member-backlink" href="#interface.RemoveInfixOperator:B:">⇧</a>
<pre class="code fsharp"><span class="ck">member</span> <span class="interface-member-marker"><span class="ci">RemoveInfixOperator</span></span><span class="cp">:</span> <span class="ci">string</span> <span class="cr">-&gt;</span> <span class="ci">bool</span>
</pre>
           </div>
           <div class="interface-member-description">
            <div class="para _1">
             <p>
              Removes the <code class="fsharp"><a href="#members.InfixOperator"><span class="ci">InfixOperator</span></a></code> with the given string
              from the grammar. Returns <code class="fsharp"><span class="cb">false</span></code> if no infix operator with that string was previously
              registered, otherwise <code class="fsharp"><span class="cb">true</span></code>.
             </p>
            </div>
           </div>
          </div>
          <div class="interface-member _6" id="members.RemovePrefixOperator">
           <div class="interface-member-code">
            <a class="interface-member-backlink" href="#interface.RemovePrefixOperator:B:">⇧</a>
<pre class="code fsharp"><span class="ck">member</span> <span class="interface-member-marker"><span class="ci">RemovePrefixOperator</span></span><span class="cp">:</span> <span class="ci">string</span> <span class="cr">-&gt;</span> <span class="ci">bool</span>
</pre>
           </div>
           <div class="interface-member-description">
            <div class="para _1">
             <p>
              Removes the <code class="fsharp"><a href="#members.PrefixOperator"><span class="ci">PrefixOperator</span></a></code> with the given
              string from the grammar. Returns <code class="fsharp"><span class="cb">false</span></code> if no prefix operator with that string was
              previously registered, otherwise <code class="fsharp"><span class="cb">true</span></code>.
             </p>
            </div>
           </div>
          </div>
          <div class="interface-member _7" id="members.RemovePostfixOperator">
           <div class="interface-member-code">
            <a class="interface-member-backlink" href="#interface.RemovePostfixOperator:B:">⇧</a>
<pre class="code fsharp"><span class="ck">member</span> <span class="interface-member-marker"><span class="ci">RemovePostfixOperator</span></span><span class="cp">:</span> <span class="ci">string</span> <span class="cr">-&gt;</span> <span class="ci">bool</span>
</pre>
           </div>
           <div class="interface-member-description">
            <div class="para _1">
             <p>
              Removes the <code class="fsharp"><a href="#members.PostfixOperator"><span class="ci">PostfixOperator</span></a></code> with the given
              string from the grammar. Returns <code class="fsharp"><span class="cb">false</span></code> if no postfix operator with that string was
              previously registered, otherwise <code class="fsharp"><span class="cb">true</span></code>.
             </p>
            </div>
           </div>
          </div>
          <div class="interface-member _8" id="members.RemoveTernaryOperator">
           <div class="interface-member-code">
            <a class="interface-member-backlink" href="#interface.RemoveTernaryOperator:B:">⇧</a>
<pre class="code fsharp"><span class="ck">member</span> <span class="interface-member-marker"><span class="ci">RemoveTernaryOperator</span></span><span class="cp">:</span> <span class="ci">string</span> <span class="cp">*</span> <span class="ci">string</span> <span class="cr">-&gt;</span> <span class="ci">bool</span>
</pre>
           </div>
           <div class="interface-member-description">
            <div class="para _1">
             <p>
              Removes the <code class="fsharp"><a href="#members.TernaryOperator"><span class="ci">TernaryOperator</span></a></code> with the given
              left and right strings from the grammar. Returns <code class="fsharp"><span class="cb">false</span></code> if no ternary operator with
              these strings was previously registered, otherwise <code class="fsharp"><span class="cb">true</span></code>.
             </p>
            </div>
           </div>
          </div>
          <div class="interface-member _9" id="members.Operators">
           <div class="interface-member-code">
            <a class="interface-member-backlink" href="#interface.Operators:B:">⇧</a>
<pre class="code fsharp"><span class="ck">member</span> <span class="interface-member-marker"><span class="ci">Operators</span></span><span class="cp">:</span> <span class="ci">seq</span><span class="cp">&lt;</span><span class="ci">PrecedenceParserOp</span><span class="cp">&lt;</span><span class="ctv">'a</span><span class="cp">,</span><span class="ctv">'u</span><span class="cp">&gt;</span><span class="cp">&gt;</span>
</pre>
           </div>
           <div class="interface-member-description">
            <div class="para _1">
             <p>
              Returns a sequence with a snapshot of the operators currently registered with the <code class="fsharp"><span
              class="ci">OperatorPrecedenceParser</span></code>.
             </p>
            </div>
           </div>
          </div>
          <div class="interface-member _0" id="members.OperatorConflictErrorFormatter">
           <div class="interface-member-code">
            <a class="interface-member-backlink" href="#interface.OperatorConflictErrorFormatter:B:">⇧</a>
<pre class="code fsharp"><span class="ck">member</span> <span class="interface-member-marker"><span class="ci">OperatorConflictErrorFormatter</span></span><span class="cp">:</span>
  <span class="cp">(</span>   <a href="charstream.html#CharStream.members.Position"><span class="ci">Position</span></a> <span class="cp">*</span> <a href="#members.Operator"><span class="ci">Operator</span></a><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span class="cp">&gt;</span> <span class="cp">*</span> <span class="ctv">'TAfterString</span>
   <span class="cr">-&gt;</span> <a href="charstream.html#CharStream.members.Position"><span class="ci">Position</span></a> <span class="cp">*</span> <a href="#members.Operator"><span class="ci">Operator</span></a><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span class="cp">&gt;</span> <span class="cp">*</span> <span class="ctv">'TAfterString</span>
   <span class="cr">-&gt;</span> <a href="errormessagelist.html"><span class="ci">ErrorMessageList</span></a><span class="cp">)</span>
  <span class="ck">with</span> <span class="ci">get</span><span class="cp">,</span> <span class="ci">set</span>
</pre>
           </div>
           <div class="interface-member-description">
            <div class="para _1">
             <p>
              The <code class="fsharp"><span class="ci">OperatorConflictErrorFormatter</span></code> function is called by the OPP instance when it
              encounters <a href="#members.conflicting-operators">conflicting operators</a> in the input. The two passed tuples contain the stream
              positions, operator definitions and the after‐string‐parser values for the two conflicting operators. The returned <code
              class="fsharp"><a href="errormessagelist.html"><span class="ci">ErrorMessageList</span></a></code> will become part of the error
              messages returned by the OPP’s <code class="fsharp"><a href="#members.ExpressionParser"><span
              class="ci">ExpressionParser</span></a></code>.
             </p>
            </div>
            <div class="para _2">
             <p>
              You can set this formatter to customize the error messages generated when the OPP instance encounters conflicting operators in the
              inputs. Of course, if your operator grammar doesn’t allow for conflicting operators in the input, the <code class="fsharp"><span
              class="ci">OperatorConflictErrorFormatter</span></code> will never be called and there’s no need to customize it. The user’s guide
              section on <a href="../users-guide/tips-and-tricks.html#parsing-f-infix-operators">parsing F# infix operators</a> contains an example
              with a custom <code class="fsharp"><span class="ci">OperatorConflictErrorFormatter</span></code>.
             </p>
            </div>
           </div>
          </div>
          <div class="interface-member _1" id="members.MissingTernary2ndStringErrorFormatter">
           <div class="interface-member-code">
            <a class="interface-member-backlink" href="#interface.MissingTernary2ndStringErrorFormatter:B:">⇧</a>
<pre class="code fsharp"><span class="ck">member</span> <span class="interface-member-marker"><span class="ci">MissingTernary2ndStringErrorFormatter</span></span><span class="cp">:</span>
  <span class="cp">(</span>   <a href="charstream.html#CharStream.members.Position"><span class="ci">Position</span></a> <span class="cp">*</span> <a href="charstream.html#CharStream.members.Position"><span class="ci">Position</span></a>
    <span class="cp">*</span> <a href="#members.TernaryOperator"><span class="ci">TernaryOperator</span></a><span class="cp">&lt;</span><span class="ctv">'TTerm</span><span class="cp">,</span> <span class="ctv">'TAfterString</span><span class="cp">,</span> <span class="ctv">'TUserState</span><span class="cp">&gt;</span> <span class="cp">*</span> <span class="ctv">'TAfterString</span>
   <span class="cr">-&gt;</span> <a href="errormessagelist.html"><span class="ci">ErrorMessageList</span></a><span class="cp">)</span>
  <span class="ck">with</span> <span class="ci">get</span><span class="cp">,</span> <span class="ci">set</span>
</pre>
           </div>
           <div class="interface-member-description">
            <div class="para _1">
             <p>
              The <code class="fsharp"><span class="ci">MissingTernary2ndStringErrorFormatter</span></code> function is called by the OPP instance
              when it can’t parse the second operator string of a C‐style ternary operator (e.g. the <code class="cpp">:</code> in <code
              class="cpp">a ? b : c</code>). The passed tuple contains (in order) the position of the first operator string, the position where the
              the second string was expected, the operator definition and the after‐string‐parser value for the left operator part. The returned <code
              class="fsharp"><a href="errormessagelist.html"><span class="ci">ErrorMessageList</span></a></code> will become part of the error
              messages returned by the OPP’s <code class="fsharp"><a href="#members.ExpressionParser"><span
              class="ci">ExpressionParser</span></a></code>.
             </p>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
    </div>
   </div>
  </div>
 </div>
 </div>
 </div>
 </div>
</body>
</html>

